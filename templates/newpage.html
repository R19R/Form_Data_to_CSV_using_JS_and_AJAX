<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="{{url_for('static', filename='into_csv.css')}}" rel="stylesheet">

</head>
<body>
    
<form>
    <p>Name <input type="text" id="name" name='name'></p>
    <p>Comments <input type="text" id="comments" name='comments'></p>
    <button type="submit" id="btn1">submit</button>
</form>
<table id="display">
    <tr>
        <td>Name</td>
        <td>Comments</td>
    </tr>
    <tr>
        <td><span id="n"></span></td>
        <td><span id="c"></span></td>
    </tr>
</table>
<script>
    document.getElementById("btn1").addEventListener("click", showValue);

    function showValue(e){
        e.preventDefault();

        var xhr = new XMLHttpRequest();

        var name = document.getElementById("name").value;
        var comment = document.getElementById("comments").value;

        xhr.open("POST", '/inputs', true);

        xhr.onload = function(){
            var n = document.getElementById('n').innerHTML=name;
            var c = document.getElementById('c').innerHTML=comment;
        };

        xhr.send();

        var row = 1;
        var table =  document.getElementById("display");
        var newRow = table.insertRow(row)

        var cell1 = newRow.insertCell(0);
        var cell2 = newRow.insertCell(1);

        cell1.innerHTML = n;
        cell2.innerHTML = c;

        row++;
    };
</script>
</body>
</html>